<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Jessy Ong</title>

    <meta name="viewport" content="initial-scale=1, maximum-scale=1, width=device-width, height=device-height">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- status bar color on mobile -->
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link rel="stylesheet" href="./styles/main.css">
</head>

<body>
    <main class="site-main">

        <div class="name-tag"> Jessy Ong </div>

        <nav id="menu">
            <ul>
                <li><a href="#"> Manifesto </a></li>
                <li><a href="#"> Video </a></li>
            </ul>
        </nav>

        <div class="main-wrapper">

            <div class="text-container">
                <h2 id="message-title"> My Message </h2>

                <div class="message">
                    <p> This is the beginning of my message
                        <span class="hide-inline">
                                that will be put here.
                            </span>&nbsp;
                        <a class="more" href="#">more</a>
                    </p>

                    <div class="hide-block">
                        <p> This, on the other hand, is the rest of the message. </p>

                        <ul>
                            <li> My first important point </li>
                            <li> My second important point </li>
                            <li> My last important point </li>
                        </ul>

                        <p> And finally, this is the last paragraph. </p>
                    </div>
                </div>

                <br>
                <img id="signature" alt="Jessy Ong" title="Jessy Ong" src="img/signature.jpg">

            </div>

        </div>

    </main>

    <footer class="site-footer">
        <div class="bg-profile">
            <img class="profilepic" title="" alt="" src="img/jessy.jpg">
        </div>
    </footer>

    <script>
        function getHeight(el) {
            var style = window.getComputedStyle(el);
            var max_height = style.maxHeight.replace("px", "").replace("%", "");
            if (style.display !== "none" && max_height !== "0") {
                return el.offsetHeight;
            }

            var display = el.display;
            el.style.display = "block";
            wanted_height = el.offsetHeight;
            el.style.display = display;
            return wanted_height;
        }

        if (window.addEventListener) {
            document.querySelector(".more").addEventListener("click", function(e) {
                this.style.display = "none" // remove "more" link

                // make inline bit visible
                document.querySelector(".hide-inline").style.display = "inline";

                // make block bit visible (ease in)
                var hide_block = document.querySelector(".hide-block");
                var max_height = 0;

                max_height = getHeight(hide_block) + "px";
                hide_block.style["transition"] = "max-height 0.5s ease-in-out"
                hide_block.style.overflowY = "hidden";
                hide_block.style.maxHeight = "0";
                hide_block.setAttribute("data-max-height", max_height);
                hide_block.style.display = "block";
                setTimeout(function() {
                    hide_block.style.maxHeight = max_height
                }, 10);
                setTimeout(function() {
                    hide_block.style["transition"] = "all 0s 0s ease";
                    hide_block.style["max-height"] = "none"
                }, 700);

                e.preventDefault(); // input is handled
                return false
            }, false);
        }
    </script>
</body>

</html>
